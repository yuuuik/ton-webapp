<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>TON Connect WebApp</title>
  <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <button id="connect">üîó –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫–æ—à–µ–ª–µ–∫</button>
  <div id="status"></div>
  <script>
    const tg = window.Telegram.WebApp;
    tg.expand();
    const tonConnectUI = new TON_CONNECT_UI.TonConnectUI({
      manifestUrl: "https://yuuuik.github.io/tonmanifest/tonconnect-manifest.json"
    });

    document.getElementById("connect").onclick = async () => {
      try {
        const wallet = await tonConnectUI.connectWallet();
        const address = wallet?.account?.address;
        if (address) {
          tg.sendData(JSON.stringify({ address }));
          document.getElementById("status").innerText = "‚úÖ –ê–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω: " + address;
        } else {
          document.getElementById("status").innerText = "‚ùå –ê–¥—Ä–µ—Å –Ω–µ –ø–æ–ª—É—á–µ–Ω.";
        }
      } catch (e) {
        document.getElementById("status").innerText = "‚ùå –û—à–∏–±–∫–∞: " + e;
      }
    };
  </script>
</body>
</html>
